<?php $tmp="
一、服务条款的确认和接纳
	用户必须完全同意以下所有服务条款才能成为一休教育网的正式用户。
二、用户的权利和义务
　　1、所有用户必须遵循：s
　　- 遵守所有使用网络服务的网络协议、规定、程序和惯例；
　　- 不得使用本网站从事违法活动；
　　- 不得干扰或侵犯本网站的正常运行和其他用户的正常使用；
　　- 从中国境内向境外传输技术性资料时不得违反中国有关法律、法规。
　　2、同时用户承诺：
　　- 不得传输任何非法的、骚扰性的、中伤他人的、辱骂性的、恐吓性的、伤害性的、庸俗的、淫秽的信息
　　资料；
　　- 不得传输任何教唆他人进行违法犯罪行为的资料；
　　- 不得传输不利于国内团结和社会安定的资料；
　　- 不得传输任何不符合国家法律、法规规定的资料、信息；
　　- 不得未经许可而非法进入其它个人或组织电脑系统；
　　- 法律规定的其他义务。
　  如果用户的行为违背上述条款规定，一休教育网可以做出独立判断并有权立即取消用户资格。用户应对自
　  己在网上的违法行为承担全部法律责任。
　　3、基于网络服务的特殊性，用户同意：
　　- 在注册时按照注册提示提供准确用户名和密码以及详尽的个人资料；
　　- 在个人的注册信息发生变化时，用户应及时更新自己的注册信息，保证其个人资料的详尽和准确。所有
　　用户输入的个人信息将被视作准确表明了用户的身份，并作为本网站提供所有服务的有效身份依据。
　　- 用户自行配备上网的所需设备，包括个人电脑、调制解调器、宽带或其他必备上网装置；
　　- 用户应自行负担因使用这种接入方式而产生的上网电话费、上网信息费及教育信息费。
　　4、用户的用户名、密码 
　　- 用户一旦注册成功，成为一休教育网的正式用户后，应当对自己的用户名（亦称账号）、密码的安全性
　　负全部责任。用户的密码只能由用户自己掌握。
　　- 对于用户因账号或密码泄露造成的各种损失，一休教育网不承担任何责任。用户发现任何非法使用用户
　　账号的情况，应立即通知一休教育网
　　- 用户应对以其用户名进行的所有活动和事件负责。
三、一休教育网的权利和义务
　　1、一休教育网应本着诚实信用的原则向用户提供远程教育服务，不得随意中断或停止提供该项服务，但如
　　因系统维护或升级而需暂停服务时，将事先公告。若因硬件故障或其它不可抗力而导致暂停服务，于暂停
　　服务期间造成的一切不便与损失，一休教育网不负任何责任。
　　2、本网站内以任何形式表现的作品（包括但不限于文字、软件、声音、图片、录像、表格、电子邮件等）
　　的著作权，由作品的著作权人和一休教育网共同享有，用户未经许可，不得擅自对本网站的包括电子课件
　　在内的任何作品进行任何形式的翻录、复制或从事其他任何违反著作权法等相关法律、法规的活动。对侵
　　犯本网站知识产权的个人和组织，一休教育网和作品的著作权人将依法追究其民事或刑事责任。
　　3、本网站享有对用户网上活动的监督和指导权，对凡是从事网上非法活动的用户，有权终止所有服务。
　　4、本网站对用户在网上发表的供学习交流的作品，享有独家的出版、发行和复制的权利。
　　5、用户通过本网站触犯中华人民共和国法律的，一切后果自己负责，本网站不承担任何责任
四、保密责任
　　本网站将严格履行用户个人隐私保密义务，承诺不公开、编辑或透露用户个人信息，但以下情况除外：
　　- 用户授权一休教育网透露这些信息；
　　- 相应的法律及法律程序要求一休教育网提供用户的个人资料；
　　- 在紧急情况下，竭力维护用户个人、其他社会个体和社会大众的安全需要。
五、担保责任
　　一休教育网不担保其服务一定能够满足用户的要求，也不担保其服务不会因各种客观原因中断。教育人生
　　网拒绝提供担保，由用户自己承担系统受损或资料丢失的风险和责任。 
六、服务条款的修改和完善
　　1、一休教育网将根据互连网的发展和法律、法规的变化，在认为必要时可以单方面修改服务条款。
　　2、本服务条款一旦发生变动，将会在重要页面上提示修改内容。如果不同意所改动的内容， 用户可以主
　　动放弃获得的网络服务。如果用户继续享用网络服务，则视为接受服务条款的变动。当发生争执时，应以
　　最新服务条款的内容为准。
七、法律
　　本服务条款根据现行中华人民共和国法律法规制定。如发生一休教育网服务条款与中华人民共和国法律相
　　抵触时，则这些条款将完全按法律规定重新解释，本服务条款的其它条款仍对一休教育网和用户具有法律
　　约束力。 
八、在条款规定范围内，一休教育网拥有最终解释权。
九、本规则自公布之日施行。"?>
<style>

</style>

<div class="main_vip">
    <div class="main_vip_yhzc">
        <div class="main_vip_yhzc_top"><span>用户注册</span></div>
        <div class="main_vip_yhzc_center">
			<?php 	$form=$this->beginWidget('CActiveForm', array( //<form name="creator" method="post" id="creator" onsubmit="return zcXMLHttp()" action="">
                        'id'=>'Register',
                        'enableAjaxValidation'=>false,
                        'htmlOptions'=>array("onSubmit"=>"return checkForm()","name"=>"creator")
					)); ?>
          	<div class="main_vip_yhzc_center_box">
            	<div class="main_vip_yhzc_center_box01">
					<dl>
						<dt>用户名</dt>
						<dd>
							<?php echo $form->textField($model,'username',array("onkeydown"=>"if(event.keyCode==32) return false","onblur"=>"checkUsername()")); ?>
							<?=isset($model->errors["username"][0])?"<span class='error'>".@$model->errors["username"][0]:"<span>用户名应该输入4-20个英文字母或数字"?></span>
						</dd>
					</dl>
					<dl>
						<dt>登录密码</dt>
						<dd>
							<?php echo $form->passwordField($model,'password',array("autocomplete"=>"off","onblur"=>"checkPassword()")); ?>
								<?=isset($model->errors["password"][0])?"<span class='error'>".@$model->errors["password"][0]:"<span>密码应该输入4-20个英文字母、数字或特殊字符"?></span>
						</dd>
					</dl>
                    <dl>
						<dt>重复密码</dt>
						<dd>
							<?php echo $form->passwordField($model,'repassword',array("onblur"=>"checkRePassword()")); ?>
							<?=isset($model->errors["repassword"][0])?"<span class='error'>".@$model->errors["repassword"][0]:"<span>请重复输入密码"?></span>
						</dd>
					</dl>
                    <dl>
						<dt>所在地</dt>
						<dd>
							<select name="province" id="RegisterForm_province" onChange = "select()"></select>
							<select name="city" id="RegisterForm_city" onChange = "select()" style="margin-right: 0px;"></select>
							<span class='error'></span>
						</dd>
                    </dl>
                    <dl>
						<dt>电子邮箱</dt>
						<dd> <?php echo $form->textField($model,'email',array("onblur"=>"checkEmail()")); ?> 
						<?=isset($model->errors["email"][0])?"<span class='error'>".@$model->errors["email"][0]:"<span>用于寄发相关的材料,找回密码的接收邮箱"?></span></dd>
					</dl>
					<dl>
						<dt>验证码</dt>
						<dd><?php echo $form->textField($model,'verifyCode',array("onblur"=>"checkCode()","style"=>"width:100px")); ?>
							<?php $this->widget('CCaptcha',array("buttonLabel"=>"","clickableImage"=>true,"imageOptions"=>array("title"=>"看不清？点击更换。","style"=>"float:left"))); ?>
							<span class='error'><?="".@$model->errors["verifyCode"][0]."</em>"?></span>
						</dd>
					</dl>
                </div>
                <div class="main_vip_yhzc_center_box02">
                	<h1><img src="/images/zy.jpg" />若点击提交注册按钮，即表示您已同意一休教育网服务条款</h1>
					<div class="main_vip_yhzc_center_box02_text">
						<textarea name="" cols="" rows=""><?=$tmp?></textarea>
					</div>
					<div class="main_vip_yhzc_center_box02_anniu">
						<input type="image" src="/images/vip_tjzc.jpg" />
					</div>

                </div>
            </div>
			<?php $this->endWidget(); ?>
        </div>
        <div class="main_vip_yhzc_bottom">
			<img src="/images/vip_bottom00bg.jpg" />
		</div>
    </div>
</div>
<script type="text/javascript">
 $(document).ready(function(){
	init();
 })
    var regcount = 0;//总共需要验证的数目
    function checkUsername(){
        var username=$.trim($("#RegisterForm_username").val());
        if(checkBaseUserName()){
            $.ajax({
                url:"/site/ajaxregisterusername",
                data:{"name":username},
                type:"GET",
                success: function(msg){
                    if(msg==1){
                        remote_check_msg_new("RegisterForm_username","",true);
                    }else{
                        remote_check_msg_new("RegisterForm_username",msg,false)
                    }
                }
            });
        }
    }
    function checkBaseUserName(){
        var username=$.trim($("#RegisterForm_username").val());
        if(/^\d+$/.test(username)){
            remote_check_msg_new("RegisterForm_username","不能使用纯数字为账户名",false);
            return false;
        }
        if(!(/^[a-zA-Z0-9_]{5,16}$/.test(username))){
            remote_check_msg_new("RegisterForm_username","只能由5-16个数字、字母、_组成。",false);
            return false;
        }
        if(username==""){
            remote_check_msg_new("RegisterForm_username","用户名不能为空",false);
            return false;
        }
        regcount++
        return true;
    }
    function checkPassword(){
        var password=$("#RegisterForm_password").val();
        if(password.length<6||password.length>20){
            remote_check_msg_new("RegisterForm_password","密码由6-20个字符、字母、数字组成",false);return false;
        }else{
            remote_check_msg_new("RegisterForm_password","",true);
            regcount++
        }
    }
    function checkRePassword(){
        var password=$("#RegisterForm_password").val();
        var value = $("#RegisterForm_repassword").val();
        if(value.length==0){
            remote_check_msg_new("RegisterForm_repassword","密码不能为空",false);return false;
        }
        if(password!=value){
            remote_check_msg_new("RegisterForm_repassword","两次输入的密码不一致",false);return false;
        }else{
            remote_check_msg_new("RegisterForm_repassword","",true);
            regcount++
        }
    }
    function checkSection(){
        var province=$.trim($("#RegisterForm_province").val());
		var city=$.trim($("#RegisterForm_city").val());
		
        if(province!="请选择省份名"&&city!="请选择城市名"){
            remote_check_msg_new("RegisterForm_city","",true);
            regcount++
        }else{
            remote_check_msg_new("RegisterForm_city","请选择所在地",false);return false;
        }
    }
    function checkEmail(){
        var email=$.trim($("#RegisterForm_email").val());
        if(checkBaseEmail()){
            $.ajax({
                url:"/site/ajaxregisteremail",
                data:{"email":email},
                type:"GET",
                success: function(msg){
                    if(msg==1){
                        remote_check_msg_new("RegisterForm_email","",true);

                    }else{
                        remote_check_msg_new("RegisterForm_email",msg,false)
                    }
                }
            });
        }

    }
    function checkBaseEmail(){
        var email=$.trim($("#RegisterForm_email").val());
        if(email.length==0){
            remote_check_msg_new("RegisterForm_email","邮箱不能为空",false);return false;
        }
        if(!(/^[a-zA-Z0-9_\.]+@[a-zA-Z0-9_\.]+\.[a-zA-Z0-9_\.]+$/.test(email))){
            remote_check_msg_new("RegisterForm_email","邮箱格式不正确",false);return false;
        }
        regcount++;
        return true;
    }
    


    function checkCode(){
        var code=$.trim($("#RegisterForm_verifyCode").val());
        if(code.length==0){
            remote_check_msg_new("RegisterForm_verifyCode","验证码不能为空",false);return false;
        }else{
            remote_check_msg_new("RegisterForm_verifyCode","",false);
            regcount++;
        }
    }
    function checkForm(){

        // if(typeof($("#xieyi:checked").val())=="undefined"){
            // alert("请先同意新地标协议！")
            // return false;
        // }
        regcount = 0;
			
        checkBaseUserName();
        checkPassword();
        checkRePassword();
        checkSection();
        checkBaseEmail();
        checkCode();
        if(regcount==6){
            return true;
        }else{
            return false;
        }
    }
	function remote_check_msg_new(id,msg,type){
        if(type){//验证通过
            $("#"+id).nextAll("span").removeClass("error").addClass("vaok").html("");
        }else{
            $("#"+id).nextAll("span").removeClass("vaok").addClass("error").html(msg);
        }
    }
</script>
